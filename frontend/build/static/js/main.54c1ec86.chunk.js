(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){e.exports=a(146)},108:function(e,t,a){},139:function(e,t){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(108),a(14)),m=a(94),i=a(198),s=a(52),u=a(180),g=a(183),E=a(201),h=a(185),f=a(32),b=a(186),p=a(187),d=a(188),v=a(202),j=a(189),k=a(190),y=a(147),C=a(199),O=a(191),x=a(192),N=a(193),w=a(194),S=a(195),R=a(196),I=a(197),W=a(200),A=a(92),M=a.n(A),F=a(91),T=a.n(F),U=a(93),J=a.n(U),L=a(86),P=a.n(L),B=Object(n.createContext)();function Y(e){var t=e.children,a=Object(n.useState)(P()("/")),c=Object(l.a)(a,1)[0];return r.a.createElement(B.Provider,{value:c},t)}var z=function(e){var t=e.themeColor,a=e.setThemeColor,c=Object(n.useState)(!1),o=Object(l.a)(c,2),m=o[0],i=o[1],A=Object(n.useState)(""),F=Object(l.a)(A,2),U=F[0],L=F[1],P=Object(n.useState)(!1),Y=Object(l.a)(P,2),z=Y[0],K=Y[1],V=Object(n.useState)(!1),$=Object(l.a)(V,2),q=$[0],D=$[1],G=Object(n.useState)({}),H=Object(l.a)(G,2),Q=H[0],X=H[1],Z=Object(n.useState)(!1),_=Object(l.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(""),le=Object(l.a)(oe,2),me=le[0],ie=le[1],se=Object(n.useState)(""),ue=Object(l.a)(se,2),ge=ue[0],Ee=ue[1],he=Object(n.useState)([]),fe=Object(l.a)(he,2),be=fe[0],pe=fe[1],de=Object(n.useState)([]),ve=Object(l.a)(de,2),je=ve[0],ke=ve[1],ye=Object(n.useContext)(B),Ce=Object(n.useRef)(),Oe=Object(u.a)({message:{position:"relative",maxWidth:"50%",padding:"7px 10px",margin:"5px 0",marginLeft:"auto",textAlign:"center",backgroundColor:"light"===t?"#007bff":"#444",color:"whitesmoke"},othersMessage:{position:"relative",maxWidth:"50%",padding:"7px 10px",margin:"5px 0",marginRight:"auto",textAlign:"center",backgroundColor:"light"===t?"#007bff":"#444",color:"whitesmoke"},msgUser:{position:"absolute",top:-5,left:5,fontSize:12,backgroundColor:"light"===t?"#007bff":"#444"},icon:{color:"light"===t?"black":"white"},textWhite:{color:"light"===t?"black":"whitesmoke"},backgroundChange:{backgroundColor:"light"===t?"whitesmoke":"#333",color:"light"===t?"black":"whitesmoke"}})();Object(n.useEffect)((function(){var e=localStorage.getItem("username");e?(ce(e),K(!1)):K(!0),ye.on("alert",(function(e){X(e),setTimeout((function(){X({})}),3e3)})),ye.on("joined",(function(e){ke(e),D(!0)})),ye.on("left",(function(){D(!1),ie(""),ke([]),i(!1),pe([])})),ye.on("receiveMessage",(function(e){var t=e.userName,a=e.newMessage;pe((function(e){return[].concat(Object(s.a)(e),[{msg:a,user:t}])}))})),ye.on("userJoined",(function(e){return ke((function(t){return[].concat(Object(s.a)(t),[e])}))})),ye.on("userLeft",(function(e){return ke((function(t){return t.filter((function(t){return t!==e}))}))}))}),[ye]);var xe=function(){ye.emit("leaveRoom",{userName:re,roomName:me})},Ne=function(){ge&&(ye.emit("sendNewMessage",{userName:re,roomName:me,newMessage:ge}),pe([].concat(Object(s.a)(be),[{msg:ge,user:"You"}])),Ee(""))},we=function(){a("light"===t?"dark":"light")};Object(n.useEffect)((function(){Ce.current&&Ce.current.scrollIntoView()}),[be]);var Se=function(){return r.a.createElement("div",{className:"theme-button-container"},r.a.createElement(g.a,{onClick:we},"light"===t?r.a.createElement(T.a,{className:Oe.icon}):r.a.createElement(M.a,{className:Oe.icon})))},Re=function(){return r.a.createElement("div",{className:"drawer-button-container"},r.a.createElement(g.a,{onClick:function(){return te(!0)}},r.a.createElement(J.a,{className:Oe.icon})))},Ie=function(){return r.a.createElement(E.a,{open:ee,onOpen:function(){return te(!0)},onClose:function(){return te(!1)}},r.a.createElement(h.a,{item:!0,xs:0,md:3,container:!0,justify:"center",style:{textAlign:"center",height:"100%"},className:Oe.backgroundChange},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1"},"Chat App")),r.a.createElement(h.a,{item:!0,xs:12,style:{marginTop:50}},r.a.createElement(f.a,{variant:"p",component:"p"},"Users:",r.a.createElement(b.a,{className:"users-container"},je.map((function(e,t){return r.a.createElement(p.a,{key:t,button:!0},r.a.createElement(d.a,null,r.a.createElement(v.a,{alt:e.charAt(0),src:""})),r.a.createElement(j.a,{primary:e}))}))))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(k.a,{onClick:function(){te(!1),xe()},variant:"contained",color:"secondary"},"Leave Room"))))},We=function(){return r.a.createElement(h.a,{container:!0,justify:"center",className:"total-width"},r.a.createElement("div",{className:"vis"},r.a.createElement(h.a,{item:!0,xs:0,md:6,container:!0,justify:"center"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1"},"Chat App")),r.a.createElement(h.a,{item:!0,xs:12,style:{marginTop:50}},Q.msg?r.a.createElement(W.a,{severity:X.bagde},Q.msg):null,r.a.createElement(f.a,{variant:"p",component:"p"},"Users:",r.a.createElement(b.a,{className:"users-container"},je.map((function(e,t){return r.a.createElement(p.a,{key:t,button:!0},r.a.createElement(d.a,null,r.a.createElement(v.a,{alt:e.charAt(0),src:""})),r.a.createElement(j.a,{primary:e}))}))))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(k.a,{onClick:xe,variant:"contained",color:"secondary"},"Leave Room")))),r.a.createElement(h.a,{item:!0,xs:12,md:4,style:{position:"relative"}},r.a.createElement(f.a,{variant:"h5",component:"p"},me.toUpperCase()),r.a.createElement("div",{className:"siv"},Q.msg?r.a.createElement(W.a,{severity:X.bagde},Q.msg):null),r.a.createElement("div",{className:"full-height"},be.map((function(e,t){return t===be.length-1?r.a.createElement(y.a,{ref:Ce,className:"You"===e.user?Oe.message:Oe.othersMessage,key:t},t-1>=0&&e.user!==be[t-1].user?r.a.createElement("small",{className:Oe.msgUser},e.user):null,e.msg):r.a.createElement(y.a,{className:"You"===e.user?Oe.message:Oe.othersMessage,key:t},t-1>=0&&e.user!==be[t-1].user?r.a.createElement("small",{className:Oe.msgUser},e.user):null,e.msg)}))),r.a.createElement("div",{className:"input-container"},r.a.createElement(Ae,null))))},Ae=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C.a,{autoFocus:!0,type:"text",variant:"outlined",value:ge,onChange:function(e){return Ee(e.target.value)},style:{flex:1},InputProps:{className:Oe.textWhite},onKeyPress:function(e){"Enter"===e.key&&Ne()}}),r.a.createElement(k.a,{variant:"contained",onClick:Ne,color:"primary"},"Send"))},Me=function(){return r.a.createElement(h.a,{container:!0,justify:"center",alignItems:"center",className:"total-width"},r.a.createElement(h.a,{item:!0,xs:12,md:4,container:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1",style:{margin:20}},"Chat App"),r.a.createElement(O.a,{style:{marginTop:15,marginBottom:7}})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"p",component:"p"},"a normal chatting app")),r.a.createElement(h.a,{item:!0,xs:12,style:{margin:20}},r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(k.a,{onClick:function(){L("Create Room"),i(!0)},variant:"contained",color:"primary"},"Create Room")),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(k.a,{onClick:function(){L("Join Room"),i(!0)},variant:"contained",color:"secondary"},"Join Room"))))))};return r.a.createElement(n.Fragment,null,r.a.createElement(Se,null),q?r.a.createElement(n.Fragment,null,r.a.createElement(Re,null),r.a.createElement(Ie,null),r.a.createElement(We,null)):r.a.createElement(n.Fragment,null,r.a.createElement(Me,null),r.a.createElement(x.a,{onClose:function(){return i(!1)},open:m},r.a.createElement(N.a,{className:Oe.backgroundChange},U),r.a.createElement(w.a,{className:Oe.backgroundChange},Q.msg?r.a.createElement(W.a,{severity:X.bagde},Q.msg):null,r.a.createElement(C.a,{autoFocus:!0,value:me,onChange:function(e){return ie(e.target.value)},type:"text",variant:"outlined",InputProps:{className:Oe.textWhite}}),r.a.createElement(O.a,null)),r.a.createElement(S.a,{className:Oe.backgroundChange},r.a.createElement(k.a,{onClick:function(){ie(""),i(!1)}},"Cancel"),r.a.createElement(k.a,{onClick:"Join Room"===U?function(){ye.emit("joinRoom",{userName:re,roomName:me})}:function(){ye.emit("createRoom",{userName:re,roomName:me})},variant:"contained",color:"primary"},U))),r.a.createElement(x.a,{open:z},r.a.createElement(N.a,null,"User Name"),r.a.createElement(R.a,null,r.a.createElement(I.a,null,"To subscribe to this website, please enter your user name here. We will ask this only one time.")),r.a.createElement(w.a,null,r.a.createElement(C.a,{autoFocus:!0,fullWidth:!0,value:re,onChange:function(e){return ce(e.target.value)},type:"text",variant:"outlined"})),r.a.createElement(S.a,null,r.a.createElement(k.a,{disabled:!re&&re.length<3,onClick:function(){localStorage.setItem("username",re),K(!1)},variant:"outlined",color:"primary"},"Submit")))))},K={width:"100vw",height:"100vh",backgroundColor:"whitesmoke",color:"black"},V={width:"100vw",height:"100vh",backgroundColor:"#333",color:"whitesmoke"};var $=function(){var e=Object(n.useState)("light"),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=localStorage.getItem("theme");e?c(e):localStorage.setItem("theme","light")}),[]),Object(n.useEffect)((function(){localStorage.setItem("theme",a)}),[a]);var o=Object(m.a)({palette:{primary:{main:"light"===a?"#007bff":"#444"},secondary:{main:"light"===a?"#222":"#fff"}}});return r.a.createElement(i.a,{theme:o},r.a.createElement(Y,null,r.a.createElement("div",{style:"light"===a?K:V},r.a.createElement(z,{themeColor:a,setThemeColor:c}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.54c1ec86.chunk.js.map
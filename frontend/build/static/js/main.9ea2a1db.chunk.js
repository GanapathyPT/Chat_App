(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,a){e.exports=a(73)},38:function(e,t,a){},69:function(e,t){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),s=a.n(r),l=(a(38),a(1)),o=Object(n.createContext)();function u(e){var t=e.children,a=Object(n.useState)(localStorage.getItem("g-chatting-theme")),r=Object(l.a)(a,2),s=r[0],u=r[1];return Object(n.useEffect)((function(){localStorage.setItem("g-chatting-theme",s)}),[s]),c.a.createElement(o.Provider,{value:{Theme:s,setTheme:u}},t)}var i=a(32),m=a.n(i),g=Object(n.createContext)();function f(e){var t=e.children,a=Object(n.useState)(m()("/")),r=Object(l.a)(a,1)[0];return c.a.createElement(g.Provider,{value:r},t)}function h(){var e=Object(n.useState)(["",""]),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useContext)(o),u=s.Theme,i=s.setTheme,m=Object(n.useContext)(g);Object(n.useEffect)((function(){m.on("new_user",(function(e){r([e+"connected","success"]),setTimeout((function(){r(["",""])}),3e3)})),m.on("user_disconnected",(function(e){r([e+"disconnected","danger"]),setTimeout((function(){r(["",""])}),3e3)}))}),[]);var f=function(e){i("dark"===u?"":"dark")};return c.a.createElement("div",{className:"heading"},c.a.createElement("div",{className:"heading-child ".concat(a[0]?"alert alert-".concat(a[1]):"")},a[0]),c.a.createElement("h1",{className:"heading-child"},"ChatApp"),c.a.createElement("div",{className:"icons heading-child"},c.a.createElement("svg",{onClick:f,className:"sun",style:{width:24,height:24},viewBox:"0 0 24 24"},c.a.createElement("path",{fill:"currentColor",d:"M3.55,18.54L4.96,19.95L6.76,18.16L5.34,16.74M11,22.45C11.32,22.45 13,22.45 13,22.45V19.5H11M12,5.5A6,6 0 0,0 6,11.5A6,6 0 0,0 12,17.5A6,6 0 0,0 18,11.5C18,8.18 15.31,5.5 12,5.5M20,12.5H23V10.5H20M17.24,18.16L19.04,19.95L20.45,18.54L18.66,16.74M20.45,4.46L19.04,3.05L17.24,4.84L18.66,6.26M13,0.55H11V3.5H13M4,10.5H1V12.5H4M6.76,4.84L4.96,3.05L3.55,4.46L5.34,6.26L6.76,4.84Z"})),c.a.createElement("svg",{onClick:f,className:"moon",style:{width:24,height:24},viewBox:"0 0 24 24"},c.a.createElement("path",{fill:"currentColor",d:"M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"}))))}var d=Object(n.createContext)();function E(e){var t=e.children,a=Object(n.useState)([]),r=Object(l.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.setItem("g-chatting-messages",[])}),[]),c.a.createElement(d.Provider,{value:{Messages:s,refreshMessage:function(){o(JSON.parse(localStorage.getItem("g-chatting-messages")))}}},t)}function v(){var e=Object(n.useContext)(d).Messages,t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current&&t.current.scrollIntoView(!0)}),[e]),c.a.createElement("div",{className:"chat-container"},c.a.createElement("ul",null,e.map((function(a,n){return n===e.length-1?c.a.createElement("li",{ref:t,key:a.message,className:"chat-list-item ".concat("You"===a.user?"our-message":""),autoFocus:!0},c.a.createElement("small",null,"You"===a.user?"":a.user),c.a.createElement("p",null,a.message)):c.a.createElement("li",{key:a.message,className:"chat-list-item ".concat("You"===a.user?"our-message":""),autoFocus:!0},c.a.createElement("small",null,"You"===a.user?"":a.user),c.a.createElement("p",null,a.message))}))))}var b=a(14),O=Object(n.createContext)();function j(e){var t=e.children,a=Object(n.useState)(localStorage.getItem("g-chatting-user-name")),r=Object(l.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.setItem("g-chatting-user-name",s)}),[s]),c.a.createElement(O.Provider,{value:{UserName:s,setUserName:o}},t)}function C(){var e=Object(n.useState)("display-none"),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),u=o[0],i=o[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),h=f[0],E=f[1],v=Object(n.useContext)(O),j=v.UserName,C=v.setUserName,L=Object(n.useContext)(d).refreshMessage,p=Object(n.useContext)(g);Object(n.useEffect)((function(){r(j?"display-none":"modal"),p.emit("user_connected",j),p.on("message_received",(function(e){var t=JSON.parse(localStorage.getItem("g-chatting-messages")||"[]");localStorage.setItem("g-chatting-messages",JSON.stringify([].concat(Object(b.a)(t),[e]))),L()}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"form-container"},c.a.createElement("input",{value:h,onChange:function(e){return E(e.target.value)},type:"text",className:"input-field",autoFocus:!0}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),p.emit("new_message",h);var t=JSON.parse(localStorage.getItem("g-chatting-messages")||"[]");localStorage.setItem("g-chatting-messages",JSON.stringify([].concat(Object(b.a)(t),[{user:"You",message:h}]))),E(""),L()},type:"submit",className:"btn"},"Send")),c.a.createElement("div",{className:a},c.a.createElement("div",{className:"modal-container"},c.a.createElement("h2",null,"Your Name:"),c.a.createElement("form",null,c.a.createElement("input",{value:u,onChange:function(e){return i(e.target.value)},className:"input-field",type:"text",autoFocus:!0}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),C(u),p.emit("user_connected",u),r("display-none")},className:"btn"},"OK")))))}function L(){var e=Object(n.useContext)(o).Theme;return c.a.createElement("div",{className:"container ".concat(e)},c.a.createElement(h,null),c.a.createElement(v,null),c.a.createElement(C,null))}function p(e){var t=e.children;return c.a.createElement(f,null,c.a.createElement(u,null,c.a.createElement(j,null,c.a.createElement(E,null,t))))}a(72);var N=function(){return c.a.createElement(p,null,c.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.9ea2a1db.chunk.js.map
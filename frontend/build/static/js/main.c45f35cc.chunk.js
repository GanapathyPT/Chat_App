(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){e.exports=a(146)},108:function(e,t,a){},139:function(e,t){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(108),a(14)),m=a(94),i=a(198),s=a(52),u=a(180),g=a(183),E=a(201),h=a(185),f=a(32),d=a(186),b=a(187),p=a(188),v=a(202),j=a(189),k=a(190),y=a(147),O=a(199),C=a(191),x=a(192),N=a(193),w=a(194),S=a(195),R=a(196),I=a(197),W=a(200),A=a(92),M=a.n(A),P=a(91),T=a.n(P),F=a(93),U=a.n(F),J=a(86),L=a.n(J),B=Object(n.createContext)();function Y(e){var t=e.children,a=Object(n.useState)(L()("/")),c=Object(l.a)(a,1)[0];return r.a.createElement(B.Provider,{value:c},t)}var z=function(e){var t=e.themeColor,a=e.setThemeColor,c=Object(n.useState)(!1),o=Object(l.a)(c,2),m=o[0],i=o[1],A=Object(n.useState)(""),P=Object(l.a)(A,2),F=P[0],J=P[1],L=Object(n.useState)(!1),Y=Object(l.a)(L,2),z=Y[0],K=Y[1],V=Object(n.useState)(!1),$=Object(l.a)(V,2),q=$[0],D=$[1],G=Object(n.useState)({}),H=Object(l.a)(G,2),Q=H[0],X=H[1],Z=Object(n.useState)(!1),_=Object(l.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(""),le=Object(l.a)(oe,2),me=le[0],ie=le[1],se=Object(n.useState)(""),ue=Object(l.a)(se,2),ge=ue[0],Ee=ue[1],he=Object(n.useState)(""),fe=Object(l.a)(he,2),de=fe[0],be=fe[1],pe=Object(n.useState)([]),ve=Object(l.a)(pe,2),je=ve[0],ke=ve[1],ye=Object(n.useState)([]),Oe=Object(l.a)(ye,2),Ce=Oe[0],xe=Oe[1],Ne=Object(n.useContext)(B),we=Object(n.useRef)(),Se=Object(u.a)({message:{position:"relative",maxWidth:"50%",padding:"7px 10px",margin:"5px 0",marginLeft:"auto",textAlign:"center",backgroundColor:"light"===t?"#007bff":"#444",color:"whitesmoke"},othersMessage:{position:"relative",maxWidth:"50%",padding:"7px 10px",margin:"5px 0",marginRight:"auto",textAlign:"center",backgroundColor:"light"===t?"#007bff":"#444",color:"whitesmoke"},msgUser:{position:"absolute",top:-5,left:5,fontSize:12,backgroundColor:"light"===t?"#007bff":"#444"},icon:{color:"light"===t?"black":"white"},textWhite:{color:"light"===t?"black":"whitesmoke"},backgroundChange:{backgroundColor:"light"===t?"whitesmoke":"#333",color:"light"===t?"black":"whitesmoke"}})();Object(n.useEffect)((function(){var e=localStorage.getItem("username");e?(ce(e),K(!1)):K(!0),Ne.on("alert",(function(e){X(e),setTimeout((function(){X({})}),3e3)})),Ne.on("joined",(function(e){xe(e),D(!0)})),Ne.on("left",(function(){D(!1),ie(""),Ee(""),xe([]),i(!1),ke([])})),Ne.on("receiveMessage",(function(e){var t=e.userName,a=e.newMessage;ke((function(e){return[].concat(Object(s.a)(e),[{msg:a,user:t}])}))})),Ne.on("userJoined",(function(e){return xe((function(t){return[].concat(Object(s.a)(t),[e])}))})),Ne.on("userLeft",(function(e){return xe((function(t){return t.filter((function(t){return t!==e}))}))}))}),[Ne]);var Re=function(){Ne.emit("leaveRoom",{userName:re,roomName:me})},Ie=function(){de&&(Ne.emit("sendNewMessage",{userName:re,roomName:me,newMessage:de}),ke([].concat(Object(s.a)(je),[{msg:de,user:"You"}])),be(""))},We=function(){a("light"===t?"dark":"light")};Object(n.useEffect)((function(){we.current&&we.current.scrollIntoView()}),[je]),Object(n.useEffect)((function(){1===Ce.length&&(X({msg:"room will be deleted at 0 members",badge:"info"}),setTimeout((function(){X({})}),3e3))}),[Ce]);var Ae=function(){return r.a.createElement("div",{className:"theme-button-container"},r.a.createElement(g.a,{onClick:We},"light"===t?r.a.createElement(T.a,{className:Se.icon}):r.a.createElement(M.a,{className:Se.icon})))},Me=function(){return r.a.createElement("div",{className:"drawer-button-container"},r.a.createElement(g.a,{onClick:function(){return te(!0)}},r.a.createElement(U.a,{className:Se.icon})))},Pe=function(){return r.a.createElement(E.a,{open:ee,onOpen:function(){return te(!0)},onClose:function(){return te(!1)}},r.a.createElement(h.a,{item:!0,xs:0,md:3,container:!0,justify:"center",style:{textAlign:"center",height:"100%"},className:Se.backgroundChange},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1"},"Chat App")),r.a.createElement(h.a,{item:!0,xs:12,style:{marginTop:50}},r.a.createElement(f.a,{variant:"p",component:"p"},"Users:",r.a.createElement(d.a,{className:"users-container"},Ce.map((function(e,t){return r.a.createElement(b.a,{key:t,button:!0},r.a.createElement(p.a,null,r.a.createElement(v.a,{alt:e.charAt(0),src:""})),r.a.createElement(j.a,{primary:e}))}))))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(k.a,{onClick:function(){te(!1),Re()},variant:"contained",color:"secondary"},"Leave Room"))))},Te=function(){return r.a.createElement(h.a,{container:!0,justify:"center",className:"total-width"},r.a.createElement("div",{className:"vis"},r.a.createElement(h.a,{item:!0,xs:0,md:6,container:!0,justify:"center"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1"},"Chat App")),r.a.createElement(h.a,{item:!0,xs:12,style:{marginTop:50}},Q.msg?r.a.createElement(W.a,{severity:Q.badge},Q.msg):null,r.a.createElement(f.a,{variant:"p",component:"p"},"Users:",r.a.createElement(d.a,{className:"users-container"},Ce.map((function(e,t){return r.a.createElement(b.a,{key:t,button:!0},r.a.createElement(p.a,null,r.a.createElement(v.a,{alt:e.charAt(0),src:""})),r.a.createElement(j.a,{primary:e}))}))))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(k.a,{onClick:Re,variant:"contained",color:"secondary"},"Leave Room")))),r.a.createElement(h.a,{item:!0,xs:12,md:4,style:{position:"relative"}},r.a.createElement(f.a,{variant:"h5",component:"p"},me.toUpperCase()),r.a.createElement("div",{className:"siv"},Q.msg?r.a.createElement(W.a,{severity:X.badge},Q.msg):null),r.a.createElement("div",{className:"full-height"},je.map((function(e,t){return t===je.length-1?r.a.createElement(y.a,{ref:we,className:"You"===e.user?Se.message:Se.othersMessage,key:t},t-1>=0&&e.user!==je[t-1].user?r.a.createElement("small",{className:Se.msgUser},e.user):null,e.msg):r.a.createElement(y.a,{className:"You"===e.user?Se.message:Se.othersMessage,key:t},t-1>=0&&e.user!==je[t-1].user?r.a.createElement("small",{className:Se.msgUser},e.user):null,e.msg)}))),r.a.createElement("div",{className:"input-container"},r.a.createElement(Fe,null))))},Fe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{autoFocus:!0,type:"text",variant:"outlined",value:de,onChange:function(e){return be(e.target.value)},style:{flex:1},InputProps:{className:Se.textWhite},onKeyPress:function(e){"Enter"===e.key&&Ie()}}),r.a.createElement(k.a,{variant:"contained",onClick:Ie,color:"primary"},"Send"))},Ue=function(){return r.a.createElement(h.a,{container:!0,justify:"center",alignItems:"center",className:"total-width"},r.a.createElement(h.a,{item:!0,xs:12,md:4,container:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4",component:"h1",style:{margin:20}},"Chat App"),r.a.createElement(C.a,{style:{marginTop:15,marginBottom:7}})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"p",component:"p"},"a normal chatting app")),r.a.createElement(h.a,{item:!0,xs:12,style:{margin:20}},r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(k.a,{onClick:function(){J("Create Room"),i(!0)},variant:"contained",color:"primary"},"Create Room")),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(k.a,{onClick:function(){J("Join Room"),i(!0)},variant:"contained",color:"secondary"},"Join Room"))))))};return r.a.createElement(n.Fragment,null,r.a.createElement(Ae,null),q?r.a.createElement(n.Fragment,null,r.a.createElement(Me,null),r.a.createElement(Pe,null),r.a.createElement(Te,null)):r.a.createElement(n.Fragment,null,r.a.createElement(Ue,null),r.a.createElement(x.a,{onClose:function(){return i(!1)},open:m},r.a.createElement(N.a,{className:Se.backgroundChange},F),r.a.createElement(w.a,{className:Se.backgroundChange},Q.msg?r.a.createElement(W.a,{severity:Q.badge},Q.msg):null,r.a.createElement(O.a,{autoFocus:!0,value:me,type:"text",placeholder:"Room Name",variant:"outlined",style:{display:"block"},onChange:function(e){return ie(e.target.value)},InputProps:{className:Se.textWhite}}),r.a.createElement(O.a,{value:ge,type:"password",placeholder:"Room Password",variant:"outlined",style:{display:"block"},onChange:function(e){return Ee(e.target.value)},InputProps:{className:Se.textWhite}}),r.a.createElement(C.a,null)),r.a.createElement(S.a,{className:Se.backgroundChange},r.a.createElement(k.a,{onClick:function(){ie(""),Ee(""),i(!1)}},"Cancel"),r.a.createElement(k.a,{onClick:"Join Room"===F?function(){Ne.emit("joinRoom",{userName:re,roomName:me,roomPassword:ge})}:function(){Ne.emit("createRoom",{userName:re,roomName:me,roomPassword:ge})},variant:"contained",color:"primary"},F))),r.a.createElement(x.a,{open:z},r.a.createElement(N.a,null,"User Name"),r.a.createElement(R.a,null,r.a.createElement(I.a,null,"To subscribe to this website, please enter your user name here. We will ask this only one time.")),r.a.createElement(w.a,null,r.a.createElement(O.a,{autoFocus:!0,fullWidth:!0,value:re,onChange:function(e){return ce(e.target.value)},type:"text",variant:"outlined"})),r.a.createElement(S.a,null,r.a.createElement(k.a,{disabled:!re&&re.length<3,onClick:function(){localStorage.setItem("username",re),K(!1)},variant:"outlined",color:"primary"},"Submit")))))},K={width:"100vw",height:"100vh",backgroundColor:"whitesmoke",color:"black"},V={width:"100vw",height:"100vh",backgroundColor:"#333",color:"whitesmoke"};var $=function(){var e=Object(n.useState)("light"),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=localStorage.getItem("theme");e?c(e):localStorage.setItem("theme","light")}),[]),Object(n.useEffect)((function(){localStorage.setItem("theme",a)}),[a]);var o=Object(m.a)({palette:{primary:{main:"light"===a?"#007bff":"#444"},secondary:{main:"light"===a?"#222":"#fff"}}});return r.a.createElement(i.a,{theme:o},r.a.createElement(Y,null,r.a.createElement("div",{style:"light"===a?K:V},r.a.createElement(z,{themeColor:a,setThemeColor:c}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.c45f35cc.chunk.js.map